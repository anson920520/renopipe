(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-record-edit"],{"15fd":function(t,e,a){"use strict";a("a4d3"),a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(a("ccb5"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(null==t)return{};var a,i,o=(0,n.default)(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}},"1da1":function(t,e,a){"use strict";function n(t,e,a,n,i,o,r){try{var c=t[o](r),s=c.value}catch(d){return void a(d)}c.done?e(s):Promise.resolve(s).then(n,i)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(i,o){var r=t.apply(e,a);function c(t){n(r,i,o,c,s,"next",t)}function s(t){n(r,i,o,c,s,"throw",t)}c(void 0)}))}}a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"1de5":function(t,e,a){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"3f9e":function(t,e,a){var n=a("24fb"),i=a("1de5"),o=a("ffac"),r=a("a7e6");e=n(!1);var c=i(o),s=i(r);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */body[data-v-8a1ad79c]{font-family:Abel}\r\n/*header的style*/.nav-background[data-v-8a1ad79c]{background:#5f98ec}.mt25[data-v-8a1ad79c]{margin-top:25px}\r\n/*header的button的css*/.menu-btn[data-v-8a1ad79c]{width:.9rem;height:.9rem;padding:10px;cursor:pointer}.logoBox[data-v-8a1ad79c]{width:40%;height:%?150?%;background:url('+c+") no-repeat;background-size:100%;background-position:40% 20%;margin-left:.5rem}.title-padding[data-v-8a1ad79c]{padding:0 .7rem;margin-bottom:.4rem}.body-padding[data-v-8a1ad79c]{padding:0 .7rem}.btn-color[data-v-8a1ad79c]{background:#3a75bb;color:#fff}.main[data-v-8a1ad79c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.worker-main[data-v-8a1ad79c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:10px}.customize-btn[data-v-8a1ad79c]{padding:.3rem}.hr-line[data-v-8a1ad79c]{margin-top:10px;color:#e9e8e8}.title[data-v-8a1ad79c]{font-size:1rem;color:grey}.scoll[data-v-8a1ad79c]{overflow-x:scroll;overflow:-moz-scrollbars-vertical;height:16rem}h3[data-v-8a1ad79c]{color:grey}p[data-v-8a1ad79c]{line-height:1.5rem;color:grey}select[data-v-8a1ad79c]{padding:.2rem}table[data-v-8a1ad79c]{width:100%;margin-top:.5rem}table[data-v-8a1ad79c], th[data-v-8a1ad79c], td[data-v-8a1ad79c]{border:1px solid #000;border-collapse:collapse}th[data-v-8a1ad79c], td[data-v-8a1ad79c]{padding:15px;text-align:left;font-size:.5rem}table#t01 tr[data-v-8a1ad79c]:nth-child(even){background-color:#f8fcff}table#t01 tr[data-v-8a1ad79c]:nth-child(odd){background-color:#f8fcff}table#t01 th[data-v-8a1ad79c]{background-color:#3a75bb;color:#fff;height:.5rem}tr#header[data-v-8a1ad79c]{line-height:.1rem}.loginWrap[data-v-8a1ad79c]{min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.btmBorder[data-v-8a1ad79c]{font-size:.6rem;border-bottom:solid 20px #5f98ec;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.Wrap[data-v-8a1ad79c]{min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.blue-divider[data-v-8a1ad79c]{border-bottom:1px solid #5f98ec;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%}.hr[data-v-8a1ad79c]{padding:0 8rem 0 8rem;margin-top:20px;margin-bottom:20px}.border[data-v-8a1ad79c]{border:1px solid #e8e8e8;background:#f7f7f7}b[data-v-8a1ad79c]{font-size:1.5rem}.worker-info-area[data-v-8a1ad79c]{padding:1rem}.chk-box-area[data-v-8a1ad79c]{padding:1.2rem}.worker-icon[data-v-8a1ad79c]{height:50px;width:50px}.worktype-info-area[data-v-8a1ad79c]{padding:1.3rem .5rem}.worktype[data-v-8a1ad79c]{font-size:1.2rem}hr[data-v-8a1ad79c]{color:#e8e8e8;border:solid 1px}.mt20[data-v-8a1ad79c]{margin-top:20px}.jobTag[data-v-8a1ad79c]{background:#007aff;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;padding:%?10?% %?20?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.textarea-padding[data-v-8a1ad79c]{width:100%;border:solid 1px #e8e8e8}.centerBtn[data-v-8a1ad79c]{width:%?300?%;border:solid;background:#007aff;margin:%?30?% auto;padding:%?15?%;color:#fff}.submit-padding[data-v-8a1ad79c]{padding:.5rem}.uploadBtn[data-v-8a1ad79c]{display:inline;padding:%?10?% %?20?%;background:#007aff;-webkit-border-radius:%?10?%;border-radius:%?10?%;color:#fff;margin:%?15?% 0}.imgsWrap[data-v-8a1ad79c]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.upLoadImg[data-v-8a1ad79c]{width:100%;height:%?230?%}.imgBox[data-v-8a1ad79c]{width:33%;border-right:solid 1px #fff}.selectType[data-v-8a1ad79c]{width:100%}.checkBox[data-v-8a1ad79c]{border:solid #1296db 1px;width:%?40?%;height:%?40?%}.checkBoxIcon[data-v-8a1ad79c]{width:100%}.check[data-v-8a1ad79c]{background:url("+s+");background-position:50%;background-size:cover}.selectpadding[data-v-8a1ad79c]{padding:.3rem;position:relative;top:2px}uni-input[data-v-8a1ad79c]{border:solid 1px #d3d3d3;margin-bottom:1rem}.selectPosition[data-v-8a1ad79c]{background:#007aff;padding:%?10?% %?20?%;color:#fff;width:50vw}.positionIcon[data-v-8a1ad79c]{width:0;height:0;border:solid %?15?% transparent;border-top:%?15?% #fff solid;-webkit-transform:translateY(%?13?%);transform:translateY(%?13?%)}.whiteColor[data-v-8a1ad79c]{color:#fff}",""]),t.exports=e},4947:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("a4d3"),a("e01a"),a("a623"),a("4de4"),a("4160"),a("caad"),a("c975"),a("a15b"),a("baa5"),a("fb6a"),a("a434"),a("a9e3"),a("e25e"),a("ac1f"),a("2532"),a("466d"),a("5319"),a("1276"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),o=(n(a("7d3d")),{data:function(){return{attendenceData:"",workingTime:null,imgs:[],description:"",workerList:[],siteList:[],siteId:"",site:{},oldWorkerIds:[],start:{name:"",timesamp:0},end:{name:"",timesamp:0},projectid:"",subcontract:"",rporsubCRP:"",machine:"",username:uni.getStorageSync("username"),supervisorId:uni.getStorageSync("userid"),selected:"",head:"Renopipe",timeRange:"上午",worktypeOption:[{name:"代工(試制)",check:!1},{name:"代工(開井蓋)",check:!1},{name:"代工(其他)",check:!1},{name:"打路面",check:!1},{name:"挖窿",check:!1},{name:"打拆",check:!1},{name:"駁水",check:!1},{name:"裝水喉",check:!1},{name:"還原",check:!1},{name:"探坑",check:!1},{name:"試制",check:!1},{name:"雜務",check:!1},{name:"其他",check:!1}],machineOption:[{name:"雞頭(1噸)",number:1,check:!1},{name:"雞頭(1.5噸)",number:1,check:!1},{name:"雞頭(1.8噸)",number:1,check:!1},{name:"雞頭(3噸)",number:1,check:!1},{name:"雞頭(4噸)",number:1,check:!1},{name:"雞頭(5噸)",number:1,check:!1},{name:"雞頭(7噸)",number:1,check:!1},{name:"雞頭(12噸)",number:1,check:!1},{name:"雞頭(13噸)",number:1,check:!1},{name:"雞頭(20噸)",number:1,check:!1},{name:"5.5噸車",number:1,check:!1},{name:"9噸吊雞",number:1,check:!1},{name:"30噸夾車",number:1,check:!1},{name:"30噸吊雞",number:1,check:!1},{name:"30噸排卡",number:1,check:!1},{name:"細電炮",number:1,check:!1},{name:"大電炮",number:1,check:!1},{name:"HILTI大電炮",number:1,check:!1},{name:"HILTI充電式震鑽",number:1,check:!1},{name:"細發電機",number:1,check:!1},{name:"大發電機",number:1,check:!1},{name:"震船",number:1,check:!1},{name:"跳鎚",number:1,check:!1},{name:"火轆",number:1,check:!1},{name:"水泵",number:1,check:!1},{name:"風車鋸",number:1,check:!1},{name:"風煤",number:1,check:!1},{name:"焊機",number:1,check:!1},{name:"風機，風炮",number:1,check:!1},{name:"保路華",number:1,check:!1},{name:"石屎震機",number:1,check:!1},{name:"田螺斗",number:1,check:!1},{name:"自行填寫",number:1,check:!1,type:"custom"}],allPosition:[],currentPositionIndex:0,delImgs:[],otherHead:[]}},onLoad:function(t){this.siteId=Number(t.siteId),this.getAllPosition();var e,a,n=new Date,i=n.getFullYear(),o=n.getMonth(),r=n.getDate();e=o<10?"-0"+(o+1):"-"+(o+1),a=r>=10?"-"+r:"-0"+r;var c=i+e+a;this.start.name=c,this.start.timesamp=new Date(c).getTime()/1e3;var s=new Date(Date.now()+2592e6);s.getFullYear(),s.getMonth(),s.getDate();this.end.name=c,this.end.timesamp=new Date(c).getTime()/1e3},computed:{baseURL:function(){return this.$store.state.baseURL}},methods:{checkPosition:function(t){var e=this.allPosition[t];e.check=!e.check,this.allPosition.splice(t,1,e)},searchWorker:function(t){var e=[];this.allPosition.forEach((function(a){a.workers.forEach((function(a){String(a.cName).includes(t.target.value)&&e.push(a)}))})),this.workerList=e},changePositionNum:function(t,e){var a=this.allPosition[e];a.number=t?Number(a.number)-1:Number(a.number)+1,a.number<1&&(a.number=1),this.allPosition.splice(e,1,a)},delOtherHead:function(t){this.otherHead.splice(t,1)},addSub:function(t,e){t?this.machineOption[e].number--:this.machineOption[e].number++,this.machineOption[e].number<1&&(this.machineOption[e].number=1),this.machineOption[e].number>5&&(this.machineOption[e].number=5)},delImg2:function(t,e){this.delImgs.push(t),this.attendenceData.images.splice(e,1)},delImg:function(t){this.imgs.splice(t,1)},addOtherHeads:function(){if(this.allPosition.length){var t=JSON.parse(JSON.stringify(this.allPosition));t.forEach((function(t){t.number=1,t.check=!1})),this.otherHead.push({head:"",position:t})}else uni.showToast({title:"數據加載中，請稍後",icon:"none"})},changePositionNum2:function(t,e,a){t?this.otherHead[e].position[a].number--:this.otherHead[e].position[a].number++,this.otherHead[e].position[a].number<1&&(this.otherHead[e].position[a].number=1),this.otherHead=(0,i.default)(this.otherHead)},checkPosition2:function(t,e){this.otherHead[t].position[e].check=!this.otherHead[t].position[e].check,this.otherHead=(0,i.default)(this.otherHead)},checkData:function(){var e=this;setTimeout((function(){e.attendenceData.workers.forEach((function(t){var a=t.ID;e.allPosition.forEach((function(t){t.workers.forEach((function(t){a==t.ID&&(t.check=!0,e.oldWorkerIds.push(t.ID))}))}))})),e.attendenceData.worktype.split(",").forEach((function(t){e.worktypeOption.forEach((function(e){e.name==t&&(e.check=!0)}))})),e.attendenceData.machine.split(",").forEach((function(t){var a=e.machineOption.every((function(e){return e.name!=t.split(/[\d+]/)[0]}));a&&e.machineOption.splice(e.machineOption.length-1,1,{name:t.split(/[\d+]/)[0],number:1,check:!1,type:"custom"}),e.machineOption.forEach((function(a,n){if(-1!=t.indexOf(a.name)){a.check=!0;var i=1*t.match(/[\d+]/);e.machineOption[n].number=i||1}}))}));var t=e.attendenceData.remark.split(",");t.forEach((function(t,a){e.allPosition.forEach((function(e){if(t.includes(e.position)){e.check=!0;var a=/[\D+]/g,n=t.replace(a,"");e.number=1*n}}))}))}),500);var a=this.attendenceData.remark.split(";");a.pop(),t.log("remarkArr",a),a.forEach((function(t){var a=t.split(":"),n=JSON.parse(JSON.stringify(e.allPosition));n.forEach((function(t){t.number=1,t.check=!1})),n.forEach((function(t){var e=a[1].split(",");e.forEach((function(e){var a=e.split(/\d+/g);if(a[0]==t.position){t.check=!0;var n=e.match(/\d+/g);t.number=Number(n[0])}}))})),e.otherHead.push({head:a[0],position:n})}))},getData:function(){var e=this;uni.showLoading({title:"讀取中..."}),uni.request({url:e.baseURL+"attendence?id="+this.$route.query.id,method:"GET",header:{Authorization:uni.getStorageSync("token")},success:function(a){if(a){e.attendenceData=a.data[0];var n=new Date(1e3*a.data[0].startTimestamp),i="",o="";o=n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1),i=n.getDate()>9?n.getDate():"0"+n.getDate(),e.workingTime=n.getFullYear()+"-"+o+"-"+i,t.log(n.getFullYear()+"-"+(n.getMonth()+1)+"-"+i),e.getSite(a),e.checkData()}else alert("記錄不存在")},complete:function(){uni.hideLoading()}})},startTime:function(e){t.log(e),this.workingTime=e.detail.value,this.start.timesamp=new Date(e.detail.value).getTime()/1e3,t.log(new Date(e.detail.value).getTime()/1e3)},endTime:function(t){this.end.name=t.detail.value,this.end.timesamp=new Date(t.detail.value).getTime()/1e3},choosePosition:function(e){var a=this,n=Number(e.detail.value);this.currentPositionIndex=n,t.log(a.currentPositionIndex),a.workerList=this.allPosition[this.currentPositionIndex].workers},getAllPosition:function(){var e=this;uni.request({url:e.baseURL+"worker?action=byRole",method:"GET",header:{Authorization:uni.getStorageSync("token")},success:function(a){t.log(a),a.data&&(e.allPosition=a.data,e.allPosition.forEach((function(t){t.workers.forEach((function(t){t.check=!1})),t.number=1,t.check=!1})),e.workerList=e.allPosition[0].workers,e.getData())}})},getSite:function(e){var a=this;uni.request({url:a.baseURL+"site",method:"GET",header:{Authorization:uni.getStorageSync("token")},success:function(n){t.log(n),n.data&&(a.siteList=n.data,a.siteList.forEach((function(t){t.ID==e.data[0].siteId&&(a.site=t)})))}})},getWorders:function(){var e=this;uni.request({url:e.baseURL+"worker",method:"GET",header:{Authorization:uni.getStorageSync("token")},success:function(a){t.log("workerList",a),e.workerList=a.data,e.workerList.forEach((function(t){t.check=!1}))}})},chooseWorker:function(e){var a=this.workerList[e];a.check=!this.workerList[e].check,t.log(a),this.workerList.splice(e,1,a)},chooseType:function(t){var e=this.worktypeOption[t];e.check=!this.worktypeOption[t].check,this.worktypeOption.splice(t,1,e)},chooseMachine:function(t){var e=this.machineOption[t];e.check=!this.machineOption[t].check,this.machineOption.splice(t,1,e)},toHome:function(){uni.navigateTo({url:"/pages/index/index"})},submit:function(){uni.showLoading({title:"上傳記錄中..."});var e=this,a=[];e.allPosition.forEach((function(t){t.workers.forEach((function(t){t.check&&a.push(t.ID)}))}));var n=[];e.worktypeOption.forEach((function(t){t.check&&n.push(t.name)}));var i=[];e.worktypeOption.forEach((function(t){t.check&&i.push(t.name)}));var o=[];e.machineOption.forEach((function(t){t.check&&o.push(t.name+t.number+"部")}));var r=[];e.imgs.forEach((function(t){var e=t.base64.split("base64,")[1];r.push(e)}));var c="",s=this.otherHead.filter((function(t){return t.head}));s=s.filter((function(t){var e=t.position.every((function(t){return!t.check}));return!e})),s.forEach((function(t){c+=t.head+":";var e="";t.position.forEach((function(t){t.check&&(e+=t.position+t.number+"人,")})),c+=e.slice(0,-1)+";"}));var d=this.oldWorkerIds.filter((function(t){return-1==a.indexOf(t)})),u={workerIds:a,siteId:this.attendenceData.siteId,supervisorId:parseInt(this.attendenceData.supervisorId),startTimestamp:parseInt(new Date(this.workingTime).getTime()/1e3)+"",endTimestamp:this.attendenceData.endTimestamp,time:this.attendenceData.time,subcontract:this.attendenceData.subcontract?this.attendenceData.subcontract:" ",rporsubCRP:this.attendenceData.rporsubCRP,machine:o.join(),description:e.attendenceData.description,worktype:i.join(),base64Images:r,remark:c,removeImageId:e.delImgs,removeWorkerIds:d};t.log(u),uni.request({url:e.baseURL+"attendence/"+this.$route.query.id,method:"PUT",header:{Authorization:uni.getStorageSync("token")},data:u,success:function(e){t.log("编辑",e),e.data.error?uni.showToast({title:"編輯失敗",icon:"none"}):uni.navigateTo({url:"/pages/record/completeEdit"})},fail:function(){uni.showToast({title:"編輯失敗",icon:"none"})},complete:function(){uni.hideLoading()}})},cpimgOk:function(e){var a=this;t.log(e);var n=this;e.forEach((function(t){if(t.includes("blob")){var e=new Image;e.src=t,e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var a=t.getContext("2d");a.drawImage(e,0,0,e.width,e.height);var i=e.src.substring(e.src.lastIndexOf(".")+1).toLowerCase(),o=t.toDataURL("image/"+i);n.imgs.push({base64:o})}}else a.imgs.push({base64:t})}))},chooseImg:function(){var t=this;return t.$refs.cpimg._changImg(),!1},onChangeHead:function(e){t.log(e,this.head)}}});e.default=o}).call(this,a("5a52")["default"])},"5f55":function(t,e,a){"use strict";a.r(e);var n=a("8b36"),i=a("c60b");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("e85d");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"8a1ad79c",null,!1,n["a"],r);e["default"]=s.exports},"6d48":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAI5klEQVR4Xu2dachWRRTHtdVsIWkjaIMiMiKiRSg1MyoyJAq0yDLbxbAiWyCSUEpo1xYrLEMqw4L2sgy1svxgG/TBPvglhGj7EIQQZVj9/73PteddnvfO3NnOmTsDB+/jnTln7pnfPTNz731nRo4oqXgAHhhZvFA8QA8UEAoH/3mggFBAKCAUBv73QIkIhYYSEQoDJSIUBgZ4wKVr2Be6zoaMgxwD2Q+yFfItZB1kc/F2EA+Mh9ZJkGMhh0J+hmyBfAr5pKnFJiCMgrG7IHdCeNwrbcKJ2ZBvmlaulOvngen49TDkiGH88iPO3QFZaes7WxAOh4EPIccZGtqBfLdAlhrmL9kGe2A3/NfLEIJgml5Hxssg200L2IBwFJTyLj/YVHlXvidwfHODcm0vshcc8B5kcgNHfGxTzhQEVugryNgGFaqKPN6JDg4qWlV0NK52DWSCw1UzEs81KW8KwoNQxr7HNT0LBTe4KmlBed54ayFneLhWgrSxTo8JCAdByS91iizOG1NqoTOnrITgfQhnBj7SBhNdJiDMgqIVPmrUpaNEhqEd6jMSVBb+wcEYyG/DtaEJCMug4HrPIFBdiQz9neo7EnRrn4ofHHT2TCYgvIXSFwYAgSpLZOhzbIhI0N1kN+HHk64grIaCKYFAKJGhDwLODiYG9PF86F7kCsLzUHB1wEq2OTKEjgRVs3Gmxujr1DXwUfIDgUGg+qchN0awI8VEjEhQXeuZOOC7CCcQTkTpWO8L2jJmiBUJ2PCcLRwA4eN+JxBY+EvIKZFupdwjQ8xIwCZbDJlX13YmswbqOBXyRZ0yj+dznVruDR9xYMhXyTHSDzDCF4Tb6oyZgkA9fIu4pE6hx/O5dRMxuwM2w18QPl7+3KRNbECgvscgMd8i5tJN7NOJBD7eHZi0K/PwNfQq08y2IFDvU5A5pgY85NMeGQjBeshpHnxhouJvZLoSYvVxShMQCgwmzdGXRwUErGhTEFLBwE/f+BJFQ1IDgSsIKWB4AUavUgCDKgh8gFBgGByb1EHgCwTqWQ65JmK8lhoZYkPAbnKm7cBwqHZyGSN066Oe51oOQwoIroPP+VLQOfkCoYoubYVBNQQ+u4aKyDZGBvUQhAChbZEhCwhCgdAWGLKBICQIucOQFQShQaj0v4iDy52HteYKQk8tY0PAK7/W1+yglxt9zhp62dgFJ9g4OcCQAgJ+vse3sEFTDBB4ATnAwPUf+Gdosd4i0m9RIIjRNXRTrBkGQsBFKE4Kelv2Vx4NgtggaI0M2UOQAgRtMLQCglQgaIGhNRCkBKGC4RUcTIvY75pOLVsFQWoQaH9XCD+wlARDCghuhQ9ifiE+6N6LNX0c7qaXBEMrIZAQESpAJMDQWggkgZCqm2C3NAPCxUNjPydI3h10h2kJXcPAboMDyEsiDyBPgL2TI9q8HbYeiWiv1pREENhNcMHIUKu01DolcAZRkaC6VokgsG5cbfS1DGEQCYG0McLAGzE3GMRCIB2EnCIDFzG/P3CX46ReatfQfVHaI4N4CDREhAoIrTCogEATCBq7CTUQaAOhguEdHJzv1CGGL6wKAo0gsM57QLgarFQY1EGgFQTJMCxE5RaEDzj+LWiYNfS6ammRgdNDRgOVSTMIkiKDagg0dw3dd13qyKAeglxAqCIDdz3hPpQxUxYQ5ATC7rgYbkxxbkwKYIv7MPrY6ypytQeb0z5G4BXtCeGzhdgQVN7MAgbtIBCCDyBnJb6l1MOgGQQpEGQRGbSCIA0C9TBoBEEqBKph0AaCdAgqGLijGndWU5M0gaAFApUwaAFBGwTqYNAAglYIVMEgHQTtEKiBQTIIuUCgAgapIOQGgXgYJIKQKwSiYZAIwkeR3x1wqXvuvhZzvwlxzxkkgRA7EnDTi2q/gxSryouCQQoIKSGoQnarYZAAAndIXR25O+i1tjH9EXvtaBGRITUIsbfJ5d1ft6JpihVik8OQEgSJEFTdROtgSAWCZAhaCUMKEDRA0DoYYoOgCYKUMETfGD0mCBoh6IYh9nLBUWGIBYJmCCoYUiwKGg2GGCCkgCDUwlXZwhAahJwgyDoyhAQhRwiyhSEUCDlDkCUMIUBoAwTZweAbhDZB0A1D7LWjvc8mfILQRggqGFKsA+kVBl8gtBmCLGDwAQK3yV3T+dyrckrof6UuYac2MriCkGKvZKkQqI4MLiAUCHrHPXWRoSkIBYL6zk8VDE1AKBDUQ9DdTcReO5qzidkQfqVtnGxBKBAYu3ZnxhTrQJrueLuzkrYgfIaS4+190bjEQpRc0Li0rIJc/u+CiFV6BrbmmNqzAeFVKJ1uqthDvmwWs+z4IkVkqPti2zoiXIQSb3hoXFMVuUFQXXdsGLbD8JGQn+ocbxoRNkPR8XXKPJ1fBD3zPemSqoZ/0DMlUuWWws7cOlsmIEyEkg11ijydzzUSDHQPI0OstaO3wdaBEEaHnskEhIdQmlvYhk5tgaDy4ygcvA2JsXQwbax1BSHGXs1tg6AbBs4mQq8qz9kDZxFOEYEvlM4LGA64WXaMiBPwEpxUMzLwodM5TlqGL3wPTt/rCsJKKJgRqJJLoJdfHLc9EYaQkYGLf/IPbZ0iwn0ofXeAlnoUOm8LoFerypAwTO2A5gTCZJRe79m7JRIM7dAQMHC2MAbyu2tEYHk+kDjEEwyLoWeeJ105qiEM3INikqeLexN6Lq7TZTJ9pI4rIFxJxDWVSGDmwdHIxkH6BLPsPXP9iTNjId/V6TEFgXpWQS6tUzjM+QKBnfN8wDATJl8yMWsDAvXxCSOfNNqmMjC09VhffsLwLoTjNNtk9ajeFgRWZjnEZk1Cjgc4LiipuQdWoOgsi+L8MGWZRf4RTUCgfhJK4k4fxtgmnONr0K9tKlTy9vTAtM4NdViPHH90ogcfzm219WNTECo7++NgHORoSDWr+BXH6yB8Y1mSfw+wa+YgkmtT7oB8D9kC2ehiyhUEF9ulrCAPFBAENUbKqhQQUnpfkO0CgqDGSFmVAkJK7wuyXUAQ1Bgpq1JASOl9QbYLCIIaI2VV/gUdZcmS1QxVlQAAAABJRU5ErkJggg=="},"7d3d":function(t,e,a){"use strict";var n=a("4ea4");a("99af"),a("ace4"),a("d3b7"),a("ac1f"),a("3ca3"),a("466d"),a("5319"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),o=n(a("15fd"));a("96cf");var r=n(a("1da1")),c=n(a("d4ec")),s=n(a("bee2")),d=function(){function t(){(0,c.default)(this,t),this.FunChunk={0:{file:this.app_appendFile,toPath:this.app_URLtoBitmap},1:{file:this.h5_appendFile,toPath:this.h5_URLtoBlob},2:{file:this.applet_appendFile,toPath:this.applet_URLtoPath}},this.platform=this.platformChunk()}return(0,s.default)(t,[{key:"platformChunk",value:function(){switch(uni.getSystemInfoSync().platform){case"android":case"ios":return"undefined"!=typeof plus?0:1;default:return 2}}},{key:"dataURLtoBlob",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e,a,n,r,c,s,d,u,l,h,p,v,f,m=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:{},a=e.GetBase64,n=void 0!==a&&a,r=e.filename,c=void 0===r?"HHYANG":r,s=e.format,d=void 0===s?"png":s,u=e.compress,l=void 0===u?1:u,h=(0,o.default)(e,["GetBase64","filename","format","compress"]),p=this.FunChunk[this.platform],t.next=4,p.file((0,i.default)({format:d,compress:l},h));case 4:if(v=t.sent,!n){t.next=7;break}return t.abrupt("return",v);case 7:return t.next=9,p.toPath({base64:v,filename:c,format:d});case 9:return f=t.sent,t.abrupt("return",f);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"h5_URLtoBlob",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.base64,a=t.filename,n=t.resolvePath,i=void 0===n||n;return new Promise((function(t){var n=e.split(","),o=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,s=new Uint8Array(c);while(c--)s[c]=r.charCodeAt(c);var d=new File([s],"".concat(a,".").concat(o.split("/")[1]),{type:o}),u=d;i&&(u=(window.URL||window.webkitURL).createObjectURL(d)),t(u)}))}},{key:"h5_appendFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,a=void 0===e?"":e,n=t.format,i=void 0===n?"png":n,r=t.compress,c=void 0===r?1:r;(0,o.default)(t,["path","format","compress"]);return new Promise((function(t,e){var n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.src=a,n.onload=function(){var e=this.width,a=this.height,n=document.createElement("canvas"),o=n.getContext("2d");n.setAttribute("width",e),n.setAttribute("height",a),o.drawImage(this,0,0,e,a);var r=n.toDataURL("image/jpeg",c);r=r.replace(/^data\:image.{0,}base64,/i,"data:image/".concat(i,";base64,")),t(r)},n.onerror=function(t){e(t)}}))}},{key:"app_URLtoBitmap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.base64,a=t.filename,n=void 0===a?"HHYANG":a,i=t.format,o=void 0===i?"png":i;return new Promise((function(t,a){var i=new plus.nativeObj.Bitmap("HHYANG_BITMAP)");i.loadBase64Data(e,(function(e){i.save("_doc/".concat(n,".").concat(o),{overwrite:!0},(function(e){t(e),i.clear()}),(function(t){a("检查文件是否已经存在:".concat(t)),i.clear()}))}),(function(t){a("base64加载失败"),i.clear()}))}))}},{key:"app_appendFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,a=void 0===e?"":e,n=t.format,i=void 0===n?"png":n,c=t.isNet,s=void 0!==c&&c,d=t.compress,u=void 0===d?1:d,l=((0,o.default)(t,["path","format","isNet","compress"]),new Promise((function(t,e){if(!s)return t(a);var n=plus.downloader.createDownload(a,{},(function(a,n){200==n?t(a.filename):e(n)}));n.start()}))),h=function(t,e,a){return new Promise((function(n,i){if(1==a)return n({target:t});plus.zip.compressImage({src:t,dst:"_doc/HHYANG.".concat(e),overwrite:!0,quality:100*a,width:"50%",height:"50%"},(function(t){n(t)}),(function(t){i(t)}))}))},p=function(t,e){return new Promise((function(a,n){var i=new plus.nativeObj.Bitmap("HHYANG_BITMAP)");i.load(t,(function(t){var n=i.toBase64Data();a(n.replace(/^data\:image\/.{0,}\;/i,"data:image/".concat(e,";"))),i.clear()}),(function(t){i.clear(),n(t)}))}))};return new Promise((function(t,e){l.then(function(){var a=(0,r.default)(regeneratorRuntime.mark((function a(n){var o,r,c,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=null,a.prev=1,a.next=4,h(n,i,u);case 4:return r=a.sent,c=r.target,a.next=8,p(c,i);case 8:s=a.sent,o=c,t(s),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](1),o=n,e(a.t0);case 17:1!=u&&plus.io.resolveLocalFileSystemURL(o,(function(t){return t.remove()}));case 18:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){e("网络路径可能链接不通：".concat(t))}))}))}},{key:"applet_URLtoPath",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.base64,a=t.filename,n=void 0===a?"HHYANG":a,i=t.format,o=void 0===i?"png":i;return new Promise((function(t,a){if("undefined"===typeof wx)return a('很抱歉，小程序系列目前仅支持"微信小程序"');if(!wx.canIUse("getFileSystemManager"))return a("当前小程序版本API不可用");var i=wx.getFileSystemManager(),r="".concat(wx.env.USER_DATA_PATH,"/").concat(n,".").concat(o);i.writeFile({filePath:r,data:e.replace(/^data.{0,}base64,/,""),encoding:"base64",success:function(){t(r)},fail:function(t){a(t)}})}))}},{key:"applet_appendFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,a=void 0===e?"":e,n=t.format,i=void 0===n?"png":n,r=t.isNet,c=void 0!==r&&r;(0,o.default)(t,["path","format","isNet"]);return new Promise((function(t,e){if("undefined"===typeof wx)return e('很抱歉，小程序系列目前仅支持"微信小程序"');if(!wx.canIUse("getFileSystemManager")||!wx.canIUse("downloadFile"))return e("当前小程序版本API不可用");var n=new Promise((function(t,e){if(!c)return t(a);wx.downloadFile({url:a,success:function(a){200===a.statusCode?t(a.tempFilePath):e(a)},fail:function(t){e(t)}})})),o=function(t,e){return new Promise((function(a,n){var i=wx.getFileSystemManager();i.readFile({filePath:t,encoding:"base64",success:function(t){a("data:image/".concat(e,";base64,").concat(t.data))},fail:function(t){a(t)}})}))};n.then((function(a){o(a,i).then((function(e){t(e)})).catch((function(t){e("读取文件失败：".concat(t))}))})).catch((function(t){e("网络路径可能链接不通：".concat(t))}))}))}}]),t}(),u=d;e.default=u},"835e":function(t,e,a){var n=a("3f9e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("60991c94",n,!0,{sourceMap:!1,shadowMode:!1})},"8b36":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={cpimg:a("cae7").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"Wrap sb la"},[n("Header"),n("cpimg",{ref:"cpimg",attrs:{number:2,fixOrientation:!0,size:500,maxWidth:1e3,ql:.1,type:"url"},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.cpimgOk.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"flex10"},[n("v-uni-view",{staticClass:"title-padding mt25"},[n("div",{staticClass:"main"},[n("p",{staticClass:"title"},[t._v("編輯工作紀錄")]),n("div",{staticClass:"btn-color customize-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toHome.apply(void 0,arguments)}}},[t._v("返回")])]),n("hr",{staticClass:"hr-line"})]),n("v-uni-view",{staticClass:"body-padding"},[n("p",[t._v("工頭名稱: "+t._s(t.username))]),n("v-uni-picker",{staticStyle:{"margin-top":"6px","margin-bottom":"6px"},attrs:{mode:"date"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.startTime.apply(void 0,arguments)}}},[n("v-uni-view",[t._v("更改日期:"),n("span",{staticStyle:{border:"solid 1px",padding:"1px 10px"}},[t._v(t._s(t.workingTime))])])],1),t._v("時段:"),n("span",{staticClass:"selectpadding"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.attendenceData.time,expression:"attendenceData.time"}],staticStyle:{padding:"0rem!important"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.attendenceData,"time",e.target.multiple?a:a[0])}}},[n("option",{attrs:{value:"上午"}},[t._v("上午")]),n("option",{attrs:{value:"下午"}},[t._v("下午")]),n("option",{attrs:{value:"全日"}},[t._v("全日")])])]),n("p",{staticStyle:{display:"none"}}),n("p",[t._v("工程項目編號: "+t._s(t.site.project))]),n("p",[t._v("地盤(中文名): "+t._s(t.site.cname))]),n("p",[t._v("地盤(英文名): "+t._s(t.site.name))]),n("p",[t._v("Dis1 : "+t._s(t.site.siteCode1))]),n("p",[t._v("Dis2: "+t._s(t.site.siteCode3))]),n("p",[t._v("DMA : "+t._s(t.site.dma))]),n("p",[t._v("EMFM .Ref: "+t._s(t.site.emfm))]),n("p",[t._v("Site C. TO. : "+t._s(t.site.sitetoc))]),n("p",[t._v("Imple TO. : "+t._s(t.site.imple))]),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])],1),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("工作記錄基本資料")])])]),n("v-uni-view",{staticClass:"body-padding"},[t._v("副項目編號(非必填):"),n("v-uni-input",{attrs:{placeholder:""},model:{value:t.attendenceData.subcontract,callback:function(e){t.$set(t.attendenceData,"subcontract",e)},expression:"attendenceData.subcontract"}})],1),n("v-uni-view",{staticClass:"body-padding"},[t._v("判頭:"),n("span",{},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.attendenceData.rporsubCRP,expression:"attendenceData.rporsubCRP"}],staticStyle:{padding:"0rem!important",width:"100%",border:"solid 1px lightgray","font-size":"22px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.attendenceData,"rporsubCRP",e.target.multiple?a:a[0])},function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeHead(e)}]}},[n("option",{attrs:{id:"1",value:"Renopipe"}},[t._v("Renopipe")]),n("option",{attrs:{id:"2",value:"Others"}},[t._v("外判")])])])]),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})]),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("工人列表")])])]),n("v-uni-view",{staticClass:"body-padding mt20"},[n("v-uni-view",{staticClass:"sb al"},[n("div",{staticClass:"tagpad"},[n("div",{staticClass:"jobTag"},[t._v("選擇工人")])]),n("v-uni-picker",{attrs:{mode:"selector",range:t.allPosition,"range-key":"position"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.choosePosition.apply(void 0,arguments)}}},[t.allPosition.length?n("v-uni-view",{staticClass:"selectPosition sb"},[n("v-uni-view",{staticClass:"whiteColor"},[t._v(t._s(t.allPosition[t.currentPositionIndex].position))]),n("v-uni-view",{staticClass:"positionIcon"})],1):t._e()],1)],1),n("v-uni-view",[n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"搜索工人"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.searchWorker.apply(void 0,arguments)}}})],1),"Renopipe"==t.attendenceData.rporsubCRP?n("v-uni-view",{staticClass:"border box scoll"},[t._l(t.workerList,(function(e,i){return n("div",{key:i,staticClass:"worker-main al"},[n("img",{staticClass:"worker-icon",attrs:{src:a("b8ec")}}),n("div",{staticClass:"worker-info-area"},[n("b",[t._v(t._s(e.cName)+" "+t._s(e.position))])]),n("v-uni-view",{class:["checkBox",{check:e.check}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseWorker(i)}}})],1)})),n("hr")],2):n("v-uni-view",{staticClass:"border box scoll"},[t._l(t.allPosition,(function(e,a){return n("div",{key:a,staticClass:"worker-main al"},[n("div",{staticClass:"worker-info-area"},[n("b",[t._v(t._s(e.position))])]),n("v-uni-view",{staticClass:"ju al"},[n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePositionNum(!0,a)}}},[t._v("-")]),n("v-uni-input",{staticStyle:{"margin-bottom":"0",width:"80upx","text-align":"center"},attrs:{disabled:!0,type:"number",placeholder:"1",step:"1",min:"0",max:"5"},model:{value:e.number,callback:function(a){t.$set(e,"number",a)},expression:"item.number"}}),n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePositionNum(!1,a)}}},[t._v("+")])],1),n("v-uni-view",{class:["checkBox",{check:e.check}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkPosition(a)}}})],1)})),n("hr")],2),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])],1),t._l(t.otherHead,(function(e,a){return n("v-uni-view",{key:a},[n("v-uni-view",{staticClass:"body-padding"},[n("v-uni-view",{staticClass:"sb al"},[n("v-uni-view",[t._v("副判頭（可多選）:")]),n("v-uni-view",{staticClass:"delBtn op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delOtherHead(a)}}},[t._v("刪除")])],1),n("span",{},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.head,expression:"item.head"}],staticStyle:{padding:"0rem!important",width:"100%",border:"solid 1px lightgray","font-size":"22px"},on:{change:[function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"head",a.target.multiple?n:n[0])},function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeHead()}]}},[n("option",{attrs:{id:"2",value:"信雄"}},[t._v("信雄")]),n("option",{attrs:{id:"3",value:"信昌"}},[t._v("信昌")]),n("option",{attrs:{id:"4",value:"永富"}},[t._v("永富")]),n("option",{attrs:{id:"5",value:"平安地基"}},[t._v("平安地基")]),n("option",{attrs:{id:"6",value:"六盛"}},[t._v("六盛")]),n("option",{attrs:{id:"7",value:"英昌"}},[t._v("英昌")]),n("option",{attrs:{id:"8",value:"江記"}},[t._v("江記")]),n("option",{attrs:{id:"9",value:"安泰"}},[t._v("安泰")]),n("option",{attrs:{id:"10",value:"洪興"}},[t._v("洪興")]),n("option",{attrs:{id:"2",value:"Others"}},[t._v("其他")])])])],1),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("工人列表")]),n("u",[t._v("請選擇今天有上班的工人，如果找不到工人請致電Nicholas Wong (68132366)。")])])]),n("v-uni-view",{staticClass:"body-padding mt20"},[n("v-uni-view",{staticClass:"sb al"},[n("div",{staticClass:"tagpad"},[n("div",{staticClass:"jobTag"},[t._v("選擇工人")])])]),n("v-uni-view",{staticClass:"border box scoll"},[t._l(e.position,(function(e,i){return n("div",{key:i,staticClass:"worker-main al"},[n("div",{staticClass:"worker-info-area"},[n("b",[t._v(t._s(e.position))])]),n("v-uni-view",{staticClass:"ju al"},[n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePositionNum2(!0,a,i)}}},[t._v("-")]),n("v-uni-input",{staticStyle:{"margin-bottom":"0",width:"80upx","text-align":"center"},attrs:{type:"number",placeholder:"1",step:"1"},model:{value:e.number,callback:function(a){t.$set(e,"number",a)},expression:"p.number"}}),n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePositionNum2(!1,a,i)}}},[t._v("+")])],1),n("v-uni-view",{class:["checkBox",{check:e.check}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkPosition2(a,i)}}})],1)})),n("hr")],2),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])],1)],1)})),n("v-uni-view",{staticClass:"centerBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addOtherHeads.apply(void 0,arguments)}}},[t._v("+增加副判頭")]),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("工作類型列表")])])]),n("v-uni-view",{staticClass:"body-padding mt20"},[n("v-uni-view",{staticClass:"border box scoll"},[t._l(t.worktypeOption,(function(e,a){return n("div",{key:a,staticClass:"worker-main"},[n("div",{staticClass:"worktype-info-area"},[n("p",{staticClass:"worktype"},[t._v(t._s(e.name))])]),n("div",{staticClass:"chk-box-area"},[n("v-uni-view",{class:["checkBox",{check:e.check}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseType(a)}}})],1)])})),n("hr")],2),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])],1),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("使用機械列表")]),n("u",[t._v("請選擇今天有上使用的機械，如果找不到機械請致電Tesla Chong(60814693)。")])])]),n("v-uni-view",{staticClass:"body-padding mt20"},[n("v-uni-view",{staticClass:"border box scoll"},[t._l(t.machineOption,(function(e,a){return n("div",{key:a,staticClass:"worker-main"},[n("div",{staticClass:"worktype-info-area"},["custom"==e.type?n("v-uni-input",{staticClass:"worktype",staticStyle:{margin:"0"},attrs:{placeholder:"自行填寫"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}}):n("p",{staticClass:"worktype"},[t._v(t._s(e.name))])],1),n("div",{staticClass:"ju al",staticStyle:{padding:"1.3rem 0.5rem",width:"30%"}},[n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addSub(!0,a)}}},[t._v("-")]),n("v-uni-input",{staticStyle:{"margin-bottom":"0",width:"80upx","text-align":"center"},attrs:{disabled:!0,type:"number",placeholder:"1",step:"1",min:"0",max:"5"},model:{value:e.number,callback:function(a){t.$set(e,"number",a)},expression:"item.number"}}),n("v-uni-view",{staticClass:"addSubBtn ju al op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addSub(!1,a)}}},[t._v("+")])],1),n("div",{staticClass:"chk-box-area"},[n("v-uni-view",{class:["checkBox",{check:e.check}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseMachine(a)}}})],1)])})),n("hr")],2),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])],1),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("工作描述")])])]),n("v-uni-view",{staticClass:"body-padding mt20"},[n("div",{staticClass:"textarea-padding"},[n("v-uni-textarea",{attrs:{placeholder:"請輸入工作描述..."},model:{value:t.attendenceData.description,callback:function(e){t.$set(t.attendenceData,"description",e)},expression:"attendenceData.description"}})],1),n("div",{staticClass:"hr"},[n("div",{staticClass:"blue-divider"})])]),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("已上載傳圖片")])]),n("v-uni-view",{staticClass:"imgsWrap al"},t._l(t.attendenceData.images,(function(e,i){return n("v-uni-view",{key:i,staticClass:"imgBox"},[n("v-uni-image",{staticClass:"delImg",attrs:{src:a("6d48"),mode:"widthFix"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.delImg2(e.ID,i)}}}),n("v-uni-image",{staticClass:"upLoadImg",attrs:{src:t.baseURL+e.filePath,mode:"aspectFill"}})],1)})),1)],1),n("v-uni-view",{staticClass:"body-padding"},[n("div",{},[n("p",{staticClass:"title"},[t._v("上傳新圖片")])]),n("v-uni-view",{staticClass:"al"},[n("v-uni-view",{staticClass:"uploadBtn op",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImg.apply(void 0,arguments)}}},[t._v("選擇圖片")])],1),n("v-uni-view",{staticClass:"imgsWrap al"},t._l(t.imgs,(function(e,i){return n("v-uni-view",{key:i,staticClass:"imgBox"},[n("v-uni-image",{staticClass:"delImg",attrs:{src:a("6d48"),mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delImg(i)}}}),n("v-uni-image",{staticClass:"upLoadImg",attrs:{src:e.base64,mode:"aspectFill"}})],1)})),1)],1),n("v-uni-view",{staticClass:"submit-padding"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("編輯記錄")])],1)],2),n("v-uni-view",{staticClass:"footer btmBorder"},[t._v("©RenoPipe Construction Co. Ltd. Copyright © 2020")])],1)},o=[]},"96cf":function(t,e){!function(e){"use strict";var a,n=Object.prototype,i=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",d="object"===typeof t,u=e.regeneratorRuntime;if(u)d&&(t.exports=u);else{u=e.regeneratorRuntime=d?t.exports:{},u.wrap=k;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",f={},m={};m[r]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(Q([])));b&&b!==n&&i.call(b,r)&&(m=b);var w=x.prototype=A.prototype=Object.create(m);C.prototype=w.constructor=x,x.constructor=C,x[s]=C.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},u.awrap=function(t){return{__await:t}},E(I.prototype),I.prototype[c]=function(){return this},u.AsyncIterator=I,u.async=function(t,e,a,n){var i=new I(k(t,e,a,n));return u.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(w),w[s]="Generator",w[r]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},u.values=Q,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return c.type="throw",c.arg=t,e.next=n,i&&(e.method="next",e.arg=a),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],c=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),d=i.call(r,"finallyLoc");if(s&&d){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),L(a),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;L(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:Q(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=a),f}}}function k(t,e,a,n){var i=e&&e.prototype instanceof A?e:A,o=Object.create(i.prototype),r=new O(n||[]);return o._invoke=D(t,a,r),o}function y(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(n){return{type:"throw",arg:n}}}function A(){}function C(){}function x(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function I(t){function e(a,n,o,r){var c=y(t[a],t,n);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"===typeof d&&i.call(d,"__await")?Promise.resolve(d.__await).then((function(t){e("next",t,o,r)}),(function(t){e("throw",t,o,r)})):Promise.resolve(d).then((function(t){s.value=t,o(s)}),(function(t){return e("throw",t,o,r)}))}r(c.arg)}var a;function n(t,n){function i(){return new Promise((function(a,i){e(t,n,a,i)}))}return a=a?a.then(i,i):i()}this._invoke=n}function D(t,e,a){var n=l;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw o;return G()}a.method=i,a.arg=o;while(1){var r=a.delegate;if(r){var c=B(r,a);if(c){if(c===f)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===l)throw n=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=p;var s=y(t,e,a);if("normal"===s.type){if(n=a.done?v:h,s.arg===f)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n=v,a.method="throw",a.arg=s.arg)}}}function B(t,e){var n=t.iterator[e.method];if(n===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,B(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=y(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function Q(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){while(++n<t.length)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=a,e.done=!0,e};return o.next=o}}return{next:G}}function G(){return{value:a,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},a7e6:function(t,e){t.exports="data:image/png;base64,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"},b8ec:function(t,e,a){t.exports=a.p+"static/img/Users-Worker-icon.427c988b.png"},baa5:function(t,e,a){var n=a("23e7"),i=a("e58c");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},c60b:function(t,e,a){"use strict";a.r(e);var n=a("4947"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},ccb5:function(t,e,a){"use strict";function n(t,e){if(null==t)return{};var a,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}a("c975"),a("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},e85d:function(t,e,a){"use strict";var n=a("835e"),i=a.n(n);i.a},ffac:function(t,e,a){t.exports=a.p+"static/img/logo.c71ee8a6.png"}}]);